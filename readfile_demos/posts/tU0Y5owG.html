<h2>题</h2>
<p>例题5-6 团队队列（Team Queue，<span class="origin">UVA - 540</span>）。完整题目见参考[1]</p>
<div class="cnblogs_code">
<pre>#include &lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;queue&gt;<span style="color: #000000;">
#include </span>&lt;map&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">int</span> MAXT = <span style="color: #800080;">1000</span> + <span style="color: #800080;">10</span><span style="color: #000000;">;

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">int</span> t, kase = <span style="color: #800080;">0</span>; <span style="color: #008000;">//</span><span style="color: #008000;"> t是团队数量 </span>
    <span style="color: #0000ff;">while</span> (scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;t) == <span style="color: #800080;">1</span> &amp;&amp;<span style="color: #000000;"> t) {
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">Scenario #%d\n</span><span style="color: #800000;">"</span>, ++<span style="color: #000000;">kase);
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 记录每个队员所对应的团队编号</span>
        map&lt;<span style="color: #0000ff;">int</span>, <span style="color: #0000ff;">int</span>&gt; team; <span style="color: #008000;">//</span><span style="color: #008000;"> 记录每个队员所在的团队 例如team[2] = 3 表示2号队员在3号团队里 </span>
        <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i != t; ++<span style="color: #000000;">i) {
            </span><span style="color: #0000ff;">int</span> n, x; <span style="color: #008000;">//</span><span style="color: #008000;"> n 是i团队的队员总数 , x 是特定队员的编号 </span>
            scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">n);
            </span><span style="color: #0000ff;">while</span> (n--<span style="color: #000000;">) {
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">x);
                team[x] </span>=<span style="color: #000000;"> i;
            }
        } 
        
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 模拟</span>
        queue&lt;<span style="color: #0000ff;">int</span>&gt; q, q2[MAXT]; <span style="color: #008000;">//</span><span style="color: #008000;"> q 是团队的队列, 而q2[i]则是团队i成员的队列</span>
        <span style="color: #0000ff;">while</span> (<span style="color: #0000ff;">true</span><span style="color: #000000;">) {
            </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x;
            </span><span style="color: #0000ff;">char</span> cmd[<span style="color: #800080;">10</span><span style="color: #000000;">];
            scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">, cmd);
            </span><span style="color: #0000ff;">if</span> (cmd[<span style="color: #800080;">0</span>] == <span style="color: #800000;">'</span><span style="color: #800000;">S</span><span style="color: #800000;">'</span><span style="color: #000000;">) {
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;    
            } </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (cmd[<span style="color: #800080;">0</span>] == <span style="color: #800000;">'</span><span style="color: #800000;">D</span><span style="color: #800000;">'</span><span style="color: #000000;">) {
                </span><span style="color: #0000ff;">int</span> t =<span style="color: #000000;"> q.front();
                printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, q2[t].front());
                q2[t].pop(); 
                </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (q2[t].empty()) {
                    q.pop(); </span><span style="color: #008000;">//</span><span style="color: #008000;"> 如果该队所有队员都排完了，那么整个团队出队 </span>
<span style="color: #000000;">                }
            } </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (cmd[<span style="color: #800080;">0</span>] == <span style="color: #800000;">'</span><span style="color: #800000;">E</span><span style="color: #800000;">'</span><span style="color: #000000;">) {
                scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">x);
                </span><span style="color: #0000ff;">int</span> t =<span style="color: #000000;"> team[x];
                </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (q2[t].empty()) {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 如果t队队员首次排队话 </span>
<span style="color: #000000;">                    q.push(t);
                }  
                q2[t].push(x); </span><span style="color: #008000;">//</span><span style="color: #008000;"> 非首次直接push到&ldquo;子队列&rdquo;就可以了 </span>
<span style="color: #000000;">            }
        } 
        
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    }
    
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<h2>参考</h2>
<p>[1]&nbsp;<a href="https://vjudge.net/problem/UVA-540" target="_blank">https://vjudge.net/problem/UVA-540</a></p>
<p>&nbsp;</p>