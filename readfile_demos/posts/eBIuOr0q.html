<p>《c++ primer, 5E》</p>
<p>第64页到第68页，笔记:</p>
<p>1、利用花括号初始化data member。</p>
<p>2、预处理器是在编译之前执行的一段程序</p>
<p>3、类似SALES_DATA_H通常称为【预处理变量】，有两种状态：已经定义 和 未定义。</p>
<p>防止重复包含的实例代码</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">#ifndef SALES_DATA_H　　　　　　　　//检查结果为真，就执行下面的代码，直到#endif
</span><span style="color: #0000ff;">#define</span> SALES_DATA_H　　　　　　　　//预处理变量变为【已定义】，再次包含不再拷贝#ifndef到#endif之间的代码<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};
</span><span style="color: #0000ff;">#endif</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>遇到的问题：<br /> </p>
<p>课后练习:</p>
<p>练习2.39</p>
<p>prog1.cpp:1:12: error: expected ';' after struct definition&nbsp;struct Foo{}</p>
<p>&nbsp;</p>
<p>练习2.40</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};</span></pre>
</div>
<p>&nbsp;</p>
<p>练习2.41</p>
<p>1</p>
<div class="cnblogs_code">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    Sales_data data;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> std::cin &gt;&gt; data;</span>
    std::cin &gt;&gt; data.bookNo &gt;&gt; data.units_sold &gt;&gt;<span style="color: #000000;"> data.price;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> std::cout &lt;&lt; data;</span>
    std::cout &lt;&lt; data.bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; data.units_sold &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; data.price &lt;&lt;<span style="color: #000000;"> std::endl;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>2</p>
<div class="cnblogs_code">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    Sales_data data1, data2;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> std::cin &gt;&gt; data1 &gt;&gt; data2;</span>
    std::cin &gt;&gt; data1.bookNo &gt;&gt; data1.units_sold &gt;&gt;<span style="color: #000000;"> data1.price;
    std::cin </span>&gt;&gt; data2.bookNo &gt;&gt; data2.units_sold &gt;&gt;<span style="color: #000000;"> data2.price;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> std::cout &lt;&lt; data1 + data2;</span>
    std::cout &lt;&lt; data1.bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; data1.units_sold + data2.units_sold &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; data1.price &lt;&lt;<span style="color: #000000;"> std::endl;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>3</p>
<div class="cnblogs_code">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    Sales_data data, sum_data;
    </span><span style="color: #0000ff;">while</span>(std::cin &gt;&gt; data.bookNo &gt;&gt; data.units_sold &gt;&gt;<span style="color: #000000;"> data.price)
        sum_data.units_sold </span>+=<span style="color: #000000;"> data.units_sold;
    std::cout </span>&lt;&lt; data.bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; sum_data.units_sold &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; data.price &lt;&lt;<span style="color: #000000;"> std::endl;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;4写这种代码简直就是。。。</p>
<div class="cnblogs_code">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">int</span> num = <span style="color: #800080;">0</span><span style="color: #000000;">;
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> last_bookNo;
    Sales_data temp_data;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 读取第一个
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> std::cin &gt;&gt; temp_data;</span>
    std::cin &gt;&gt; temp_data.bookNo &gt;&gt; temp_data.units_sold &gt;&gt;<span style="color: #000000;"> temp_data.price;
    last_bookNo </span>=<span style="color: #000000;"> temp_data.bookNo;
    num </span>= <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> while(std::cin &gt;&gt; temp_data){</span>
    <span style="color: #0000ff;">while</span>(std::cin &gt;&gt; temp_data.bookNo &gt;&gt; temp_data.units_sold &gt;&gt;<span style="color: #000000;"> temp_data.price){
        </span><span style="color: #0000ff;">if</span>(temp_data.bookNo ==<span style="color: #000000;"> last_bookNo){
            </span>++<span style="color: #000000;">num;
        }
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            std::cout </span>&lt;&lt; last_bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> num;
            last_bookNo </span>=<span style="color: #000000;"> temp_data.bookNo;
            num </span>= <span style="color: #800080;">1</span><span style="color: #000000;">;
        }
    }
    std::cout </span>&lt;&lt; last_bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> num;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>5</p>
<div class="cnblogs_code">
<pre>#include&lt;iostream&gt;<span style="color: #000000;">
#include</span>&lt;<span style="color: #0000ff;">string</span>&gt;
<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Sales_data{
    std::</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> bookNo;
    unsigned units_sold </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> price = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">double</span> revenue = <span style="color: #800080;">0.0</span><span style="color: #000000;">;
};
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    Sales_data total;
    </span><span style="color: #0000ff;">if</span>(std::cin &gt;&gt; total.bookNo &gt;&gt; total.units_sold &gt;&gt;<span style="color: #000000;"> total.price){
        Sales_data trans;
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> while(std::cin &gt;&gt; total)</span>
        <span style="color: #0000ff;">while</span>(std::cin &gt;&gt; trans.bookNo &gt;&gt; trans.units_sold &gt;&gt;<span style="color: #000000;"> trans.price){
            </span><span style="color: #0000ff;">if</span>(total.bookNo ==<span style="color: #000000;"> trans.bookNo){
                total.units_sold </span>+=<span style="color: #000000;"> trans.units_sold;
            }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> std::cout &lt;&lt; total &lt;&lt; std::endl;</span>
                std::cout &lt;&lt; total.bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; total.units_sold &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; total.price &lt;&lt;<span style="color: #000000;"> std::endl;
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> total = trans;</span>
                total =<span style="color: #000000;"> trans;
            }
        }
        std::cout </span>&lt;&lt; total.bookNo &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; total.units_sold &lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span> &lt;&lt; total.price &lt;&lt;<span style="color: #000000;"> std::endl;
    }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
        std::cerr </span>&lt;&lt; <span style="color: #800000;">"</span><span style="color: #800000;">No data?</span><span style="color: #800000;">"</span> &lt;&lt;<span style="color: #000000;"> std::endl;
        </span><span style="color: #0000ff;">return</span> -<span style="color: #800080;">1</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>练习2.42</p>
<p>像这样</p>
<p><img src="http://images2015.cnblogs.com/blog/1042431/201702/1042431-20170206112043916-232778984.png" alt="" /></p>
<p><img src="http://images2015.cnblogs.com/blog/1042431/201702/1042431-20170206112154807-579482712.png" alt="" /></p>
<p><img src="http://images2015.cnblogs.com/blog/1042431/201702/1042431-20170206112212229-350811342.png" alt="" /></p>
<p>&nbsp;</p>