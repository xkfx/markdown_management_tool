<p>内容来自<a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143167793538255adf33371774853a0ef943280573f4d000" target="_blank">廖</a>雪峰的官方网站。</p>
<p><span style="background-color: #ffff99;">List Comprehensions</span></p>
<p>1</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; <span style="color: #ff0000;">list(range(1, 3</span><span style="color: #000000;"><span style="color: #ff0000;">))</span>
[</span>1, 2]</pre>
</div>
<p>2</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; L =<span style="color: #ff0000;"> []
</span>&gt;&gt;&gt; <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span> range(1 , 3<span style="color: #000000;">):
...     L.append(x </span>*<span style="color: #000000;"> x)
...
</span>&gt;&gt;&gt;<span style="color: #000000;"> L
[</span>1, 4]</pre>
</div>
<p>3</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; L = <span style="color: #ff0000;">[1, 2, 3]
</span>&gt;&gt;&gt;<span style="color: #000000;"> L
[</span>1, 2, 3<span style="color: #000000;">]
</span>&gt;&gt;&gt; L = <span style="color: #ff0000;">[x * x for x in range(1 , 4)]
</span>&gt;&gt;&gt;<span style="color: #000000;"> L
[</span>1, 4, 9]</pre>
</div>
<p>4</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; L = <span style="color: #ff0000;">[x for x in range(1 , 100) if x % 2 == 0]
</span>&gt;&gt;&gt;<span style="color: #000000;"> L
[</span>2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98]</pre>
</div>
<p>5</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; <span style="color: #ff0000;">[m + n for m in 'abc' for n in 'xyz'</span><span style="color: #000000;"><span style="color: #ff0000;">]</span>
[</span><span style="color: #800000;">'</span><span style="color: #800000;">ax</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">ay</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">az</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">bx</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">by</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">bz</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">cx</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">cy</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">cz</span><span style="color: #800000;">'</span>]</pre>
</div>
<p>运用列表生成式，可以写出非常简洁的代码。</p>
<p><span style="background-color: #ffff99;">应用举例</span></p>
<p>1、列出当前目录下的所有文件：</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; <span style="color: #0000ff;">import</span> os</pre>
</div>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; [f <span style="color: #0000ff;">for</span> f <span style="color: #0000ff;">in</span> os.listdir(<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">)]
[</span><span style="color: #800000;">'</span><span style="color: #800000;">a.exe</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">prog1.cpp</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">prog1.exe</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">Sales_data.h</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">test.py</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">test.py.bak</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">__pycache__</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">新建文件夹</span><span style="color: #800000;">'</span>]</pre>
</div>
<p>2、将dict转化为list：</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; d = {<span style="color: #800000;">'</span><span style="color: #800000;">lucy</span><span style="color: #800000;">'</span>: 7, <span style="color: #800000;">'</span><span style="color: #800000;">migo</span><span style="color: #800000;">'</span>: 6, <span style="color: #800000;">'</span><span style="color: #800000;">jack</span><span style="color: #800000;">'</span>: 22<span style="color: #000000;">}
</span>&gt;&gt;&gt; [x + <span style="color: #800000;">'</span><span style="color: #800000;">=</span><span style="color: #800000;">'</span> + str(y) <span style="color: #0000ff;">for</span> x,y <span style="color: #0000ff;">in</span><span style="color: #000000;"> d.items()]
[</span><span style="color: #800000;">'</span><span style="color: #800000;">migo=6</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">lucy=7</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jack=22</span><span style="color: #800000;">'</span>]</pre>
</div>
<p>3、把一个list中所有的字符串变成小写：</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt; L = [<span style="color: #800000;">'</span><span style="color: #800000;">migo</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">lucy</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jack</span><span style="color: #800000;">'</span><span style="color: #000000;">]
</span>&gt;&gt;&gt; [s.upper() <span style="color: #0000ff;">for</span> s <span style="color: #0000ff;">in</span><span style="color: #000000;"> L]
[</span><span style="color: #800000;">'</span><span style="color: #800000;">MIGO</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">LUCY</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">JACK</span><span style="color: #800000;">'</span>]</pre>
</div>
<p>&nbsp;4、如果list中既包含字符串，又包含整数：</p>
<div class="cnblogs_code">
<pre>&gt;&gt;&gt;<span style="color: #000000;"> L
[</span><span style="color: #800000;">'</span><span style="color: #800000;">migo</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">lucy</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jack</span><span style="color: #800000;">'</span>, 19<span style="color: #000000;">]
</span>&gt;&gt;&gt; [s.upper() <span style="color: #0000ff;">for</span> s <span style="color: #0000ff;">in</span> L <span style="color: #0000ff;">if</span><span style="color: #000000;"> isinstance(s, str)]
[</span><span style="color: #800000;">'</span><span style="color: #800000;">MIGO</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">LUCY</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">JACK</span><span style="color: #800000;">'</span>]</pre>
</div>
<p>&nbsp;</p>