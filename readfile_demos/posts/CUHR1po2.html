<p>自适应随机测试：测试用例多样性的ART</p>
<p>摘要：</p>
<p>Random testing is not only a useful testing technique in itself, but also plays a core role in many other testing methods. Hence, any significant improvement to random testing has an impact throughout the software testing community. Recently, Adaptive Random Testing (ART) was proposed as an effective alternative to random testing. This paper presents a synthesis of the most important research results related to ART. In the course of our research and through further reflection, we have realised how the techniques and concepts of ART can be applied in a much broader context, which we present here. We believe such ideas can be applied in a variety of areas of software testing, and even beyond software testing. Amongst these ideas, we particularly note the fundamental role of diversity in test case selection strategies. We hope this paper serves to provoke further discussions and investigations of these ideas</p>
<p>随机测试不仅是一种有用的测试技术，而且在许多其他测试方法中也起着核心作用。因此，任何对随机测试的重大改进都会对整个软件测试社区产生影响。最近，自适应随机测试(ART)被提出作为一种有效的替代随机测试的方法。本文综合介绍了与ART相关的最重要的研究成果。在我们的研究过程中，通过进一步的反思，我们已经意识到我们在这里介绍的ART技术和概念可以在更广泛的背景下应用。我们相信这样的思想可以应用于软件测试的各种领域，甚至超越软件测试。在这些想法中，我们特别注意到多样性在测试用例选择策略中的基本作用。我们希望本文能够激起对这些想法的进一步讨论和调查</p>
<h2><span class="fontstyle0">1. Introduction<br /></span></h2>
<p>Despite decades of effort to develop alternative technologies, software testing remains the primary way to verify the quality of software systems. However, it remains a labour-intensive, slow and imperfect process. It is, therefore, important to consider how testing can be performed more effectively and at a lower cost through the use of systematic, automated methods.</p>
<p>尽管开发了几十年的替代技术，软件测试仍然是验证软件系统质量的主要方法。然而，这仍然是一个劳动密集型、缓慢和不完善的过程。因此，重要的是要考虑如何通过使用系统的、自动化的方法，以更低的成本更有效地执行测试。</p>
<p>Attempts to automate the generation of test data through various forms of random selection date from the early 1960s (Renfer, 1962), and have been a regular feature of the research literature and industrial practice. Random testing is simple in concept, often easy to implement, has been demonstrated to effectively detect failures, is good at exercising systems in unexpected ways (which may not occur to a human tester), and may be the only practical choice when the source code and the specifications are unavailable or incomplete. It has been used extensively as a testing method in itself; furthermore, it forms a core part of many other testing methods. On the other hand, it is often argued that such random testing is inefficient, as there is no attempt to make use of any available information to guide testing. This work now encompasses a family of methods in which random selection can play a greater or lesser part.</p>
<p>通过各种形式的随机选择自动生成测试数据的尝试可以追溯到20世纪60年代初(Renfer, 1962)，并且已经成为研究文献和工业实践的常规特征。随机测试在概念上很简单，通常易于实现，已经证明可以有效地检测故障，擅长以出乎意料的方式运行系统（这可能不会发生在测试人员身上），并且可能是源代码和规范不可用或不完整时唯一的实际选择。它本身已经被广泛地用作一种测试方法；而且，它是许多其他测试方法的核心部分。另一方面，人们常常认为这种随机测试是低效的，因为没有尝试利用任何可用的信息来指导测试。这项工作现在包括一系列的方法，其中随机选择可以发挥或多或少的作用</p>
<p>A growing body of research has examined the concept of Adaptive Random Testing (ART), which is an attempt to improve the failure-detection effectiveness of random testing. ART is based on various empirical observations showing that many program faults result in failures in contiguous areas of the input domain, known as failure patterns. ART systematically guides, or filters, randomly generated candidates, to take advantage of the likely presence of such patterns. In this paper, we attempt to provide a synthesis of the growing body of piecewise research in the area of ART. We provide new insights and interpretations by explicitly drawing out novel links among individual research results. We report how ART can be adapted for testing a wide variety of types of software, and how it has inspired theoretical analysis that has revealed fundamental connections between <strong>software failure behaviour</strong> and <strong>maximum testing effectiveness</strong>. We believe that this work, viewed as a whole, is significant both to researchers in software testing and to practitioners.</p>
<p>越来越多的研究检验了自适应随机测试(ART)的概念，这是一种试图提高随机测试的故障检测有效性的尝试。ART基于各种经验观察，这些观察表明，许多程序错误会导致输入域中相邻区域的故障，称为故障模式。ART系统地指导或过滤随机生成的候选对象，以利用这些模式可能存在的优势。在这篇论文中，我们试图提供a synthesis of the growing body of piecewise research in the area of ART。我们通过明确地在个体研究结果之间绘制新的联系提供了新的见解和解释。我们报告了ART如何适应于测试各种类型的软件，以及它如何启发了理论分析，揭示了软件故障行为和最大测试效率之间的基本联系。我们相信这项工作，作为一个整体，对软件测试的研究人员和实践者都是重要的。</p>
<p>Section 2 introduces the concept of failure patterns, which provided the key inspiration for ART, the fundamentals of which are described in Section 3. Under certain conditions, ART is close to an optimally effective test case selection strategy, as we outline in Section 4. Section 5 describes how ART can be applied to a wide range of software through the development of appropriate &lsquo;&lsquo;distance measures&rdquo;. In Section 6, our attention turns from summarising work already conducted to exploring possibilities for broadened research by applying the lessons learned from ART. We conclude with a brief summary in Section 7</p>
<p>第2节介绍了failure patterns的概念，它为ART提供了关键的灵感，其基本原理将在第3节中描述。在某些条件下，ART接近于最有效的测试用例选择策略，正如我们在第4节中所概述的那样。第5节描述了如何通过开发适当的&ldquo;距离度量&rdquo;将ART应用到广泛的软件中。在第6节中，我们的注意力从<strong>总结已经开展的工作</strong>转向<strong>通过应用从ART中学到的经验教训，</strong>探索拓宽研究的可能性。我们在第7节中做了一个简短的总结</p>
<p>1.1. A note on &lsquo;&lsquo;randomness&rdquo;关于&ldquo;随机性&rdquo;的注释<span class="fontstyle0"><span class="fontstyle2"><br /></span></span></p>
<p>Typically, pseudorandom sequences, generated by standard deterministic methods, are used instead of truly non-deterministic random numbers when "random testing" is being conducted in research and in real life practice. While pseudorandom sequences are, by definition, not truly random, all published articles on random testing to date treat such pseudorandom sequences as equivalent to random. For simplicity, therefore, we shall refer to testing according to such pseudorandom sequences as &lsquo;&lsquo;random&rdquo; in this paper&nbsp;</p>
<p>通常，在研究和现实生活中进行&ldquo;随机测试&rdquo;时，使用的是由标准确定性方法生成的伪随机序列，而不是真正的非确定性随机数。根据定义，伪随机序列不是真正的随机，但迄今为止所有发表的关于随机测试的文章都将这种伪随机序列视为随机。为简便起见，本文将这种伪随机序列的检验称为&ldquo;random&rdquo;</p>
<p>When conducting random testing, testers may choose an appropriate sampling distribution to meet their requirements. When trying to accurately estimate the delivered reliability of software, for instance, testers may choose to sample according to a profile that reflects the expected usage profile of the software &mdash; known as an operational profile. On the other hand, analysis of random testing as a testing strategy has normally assumed a uniform sampling profile. Throughout this paper, unless otherwise specified, we also assume a uniform sampling profile.</p>
<p>在进行随机测试时，测试人员可以选择一个合适的抽样分布来满足他们的要求。例如，当试图准确估计软件交付的可靠性时，测试人员可以选择根据反映软件预期使用情况的配置文件（称为操作配置文件operational profile）进行采样。另一方面，analysis of random testing as a testing strategy，通常假设一个均匀的抽样轮廓。在整篇文章中，除非另有说明，我们也假定一个均匀的抽样剖面。</p>
<h2>2. Failure patterns故障模式</h2>
<p>Essentially, the testing process can be viewed as taking samples from the set of all possible inputs to the software under test (known as the input domain), executing the samples one by one, and determining whether the outputs from each sample match the software specification. If the outputs do not match the specification, a software failure is revealed. The presence of a software failure implies the existence of a fault &mdash; an actual code defect in the software concerned. (Obviously, many software failures can be related to the same fault.) A tester seeks to select test data with a view to maximising the number of distinct faults detected. To help the tester in this task, it is natural to consider how faults may cause different parts of the input domain to produce erroneous outputs when executed &mdash; in other words, reveal failures.</p>
<p>从本质上讲，测试过程可以被视为从所有可能的输入集合中抽取样本到被测软件（称为输入域），逐个执行样本，并确定每个样本的输出是否符合软件规范。如果输出与规格不匹配，则显示软件故障。软件故障的存在意味着故障的存在&mdash;&mdash;相关软件中的实际代码缺陷。（显然，许多软件故障可能与同一故障有关。）测试人员试图选择测试数据，以最大限度地增加检测到的不同故障的数量。为了帮助测试人员在这个任务中，很自然地考虑错误可能如何导致输入域的不同部分在执行时产生错误的输出-换句话说，揭示故障。</p>
<p>A pioneering work in this area was that of White and Cohen (1980), who analysed certain types of program fault in numerical programs. They observed that when the contents of predicates (decision-making points in the source code) were erroneous, an incorrect computation path would be taken (referred to as domain errors). This would, therefore, often result in contiguous regions of the input domain that reveal failures. White and Cohen then proposed a systematic technique for detecting such errors.</p>
<p>White和Cohen（1980）在这方面的开创性工作，他们分析了数值程序中某些类型的程序错误。他们观察到，当谓词（源代码中的决策点）的内容错误时，将采用错误的计算路径（称为域错误）。因此，这通常会导致输入域的连续区域显示故障。怀特和科恩随后提出了一种检测此类错误的系统技术。</p>
<p>More empirical studies came to similar conclusions about the tendency for software faults to result in contiguous &lsquo;&lsquo;failure regions&rdquo; within the input domain. Ammann and Knight (1988) analysed a number of sample numerical programs to determine the distribution of failures caused by various faults. In their small sample, they found that the faults resulted in &lsquo;&lsquo;locally continuous&rdquo; failure regions. A more comprehensive study was conducted by Bishop (1993), who examined program faults in control functions for nuclear reactors. He found that virtually all the faults were &lsquo;&lsquo;blob&rdquo; faults &mdash; that is, each fault revealed failures in a contiguous region of the input domain.</p>
<p>更多的实证研究得出了类似的结论，即软件故障倾向于导致输入域内连续的&ldquo;故障区域&rdquo;。Ammann和Knight（1988）分析了许多样本数值程序，以确定各种故障引起的故障分布。在他们的小样本中，他们发现故障导致了&ldquo;局部连续&rdquo;故障区域。Bishop（1993）进行了更全面的研究，他检查了核反应堆控制功能中的程序故障。他发现，几乎所有的故障都是&ldquo;blob&rdquo;故障&mdash;&mdash;也就是说，每个故障都显示了输入域的一个连续区域中的故障。<br />Chan et al. (1996) also noted that certain common types of fault in numerical software would also lead to typical distributions of failure-causing inputs throughout the input domain, which they termed failure patterns. They categorised three such patterns: (i) the block pattern, where failures form a locally compact, contiguous region of the input domain; (ii) the strip pattern, similar to the patterns resulting from White and Cohen&rsquo;s domain errors, in which a &lsquo;&lsquo;strip&rdquo;, contiguous but elongated along one or more dimensions, would reveal failures; and (iii) the point pattern, where failures would spread in a non-contiguous manner throughout the input domain. They argued that strip and block failure patterns were much more common than point patterns</p>
<p>Chan等人（1996年）还指出，数值软件中某些常见类型的故障也会导致整个输入域中导致故障的输入的典型分布，他们称之为故障模式。他们将这类模式分为三类：（i）块模式，其中故障形成输入域的局部紧凑、连续区域；（ii）条带模式，类似于White和Cohen域错误产生的模式，其中&ldquo;条带&rdquo;连续但沿一个或多个维度拉长，将显示故障；以及（iii）点模式，故障将以非连续方式在整个输入域中传播。他们认为条状和块状故障模式比点式故障模式更常见</p>
<p>All of these quite different studies lead to a more general conclusion: that, in numerical programs, many program faults lead to contiguous failure regions of the program input domain.</p>
<p>所有这些完全不同的研究得出了一个更普遍的结论：在数值程序中，许多程序错误导致程序输入域的连续故障区域。</p>
<h2><span class="fontstyle0">7. Conclusion <br /></span></h2>
<p><span class="fontstyle0">Based on empirical observations that contiguous failure regions are common, adaptive random testing combines random candidate selection with a filtering process to encourage an even spread of test cases throughout the input domain. Experimental studies have shown that ART can detect failures using up to 50% fewer test cases than random testing. In fact, ART methods achieve close to the theoretical maximum test case effectiveness by any possible testing method using the same information. Early work on ART concentrated mainly on numeric input domains; however, recent research has shown that it can also be applied to a broad range of software. As such, we believe that it represents an effective, efficient alternative to random testing in many applications.</span></p>
<p><span class="fontstyle0">基于连续失效区域常见的经验观察，自适应随机测试将随机候选选择与过滤过程结合起来，以鼓励在整个输入域中均匀分布测试用例。实验研究表明，ART可以使用比随机测试少50%的测试用例来检测故障。事实上，ART方法通过使用相同信息的任何可能的测试方法实现接近理论上最大的测试用例有效性。早期的ART作品主要集中在数字输入领域；然而，最近的研究表明，它也可以应用于广泛的软件。因此，我们相信，在许多应用中，它代表了随机测试的有效替代方案。</span></p>
<p><span class="fontstyle0">On the other hand, research on ART may have broader implications, and we have discussed a number of them in this paper. The AR sequence is a promising, general method of incremental ordering. The success of ART illustrates the potential of the approach of failure-based testing, and the impact and importance that diversity has on the effectiveness of test suites. Our theoretical work, motivated by ART, paves the way for a more rigorous and scientific analysis of the relationships between the information available to the software tester and the effectiveness of families of testing strategies &mdash; including those not yet developed. We believe such an analytic approach will provide a significant contribution to the foundations of software testing</span></p>
<p><span class="fontstyle0">另一方面，关于ART的研究可能有更广泛的含义，我们在本文中讨论了其中的一些。AR序列是一种很有前途的增量式排序的通用方法。ART的成功说明了基于故障的测试方法的潜力，以及多样性对测试套件有效性的影响和重要性。我们的理论工作受到ART的推动，为更加严格和科学地分析软件测试人员可用信息与测试策略系列（包括尚未开发的测试策略）的有效性之间的关系铺平了道路。我们相信这种分析方法将为软件测试的基础提供重要的贡献</span></p>