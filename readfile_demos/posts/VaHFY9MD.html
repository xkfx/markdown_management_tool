## 一、文档需求&写文档的目的

对于甲方而言，首先需要一个**满足需求的、可以运行的系统**；其次是**用户使用手册**，以便相关人员使用该系统的时候有一个参考；然后是**源代码**和**维护、迭代该系统的一个指南**，这样，即使是变更开发组也可以继续对项目进行维护、迭代；以上是真正有价值的文档，最后才是项目合同里面规定的**一些“形式主义的文档”**。

对于开发方而言。一种很理想的情况，甲方和乙方都是同一个人，且项目完全由一个人完成，那么项目的需求、目标，完全就在一个人脑子里，那么就不需要文档，只需要写代码，看合不合适，不合适继续改代码，改了又跑，直到达成所期望的目标。但事实上，即使是一个人写代码，也可能会有，因为中途有事，暂停一段时间的项目，然后再写的情况，如果时间间隔的足够久，甚至项目都不懂怎么启动了。因此，即便是一个人开发也是有写一些文档的必要，当然，这也只是对于有一定规模的项目而言，如果只是一个“Hello world”的程序，写文档也没什么价值了。

仍然是上述的理想情况（甲方和乙方都是同一个人，且项目完全由一个人完成），假设项目具备一定规模。有哪些文档是必要的？按照我个人的开发经验，一个项目下载下来，我首先要能跑起来，这样我对这个项目是干什么的，就会有一个直观的了解，所以，一个**启动项目、从源代码编译安装项目的说明书**就十分必要。但只有这个，是远远不够的，我还需要具备读懂源代码的必要知识，因此，应该**描述这个必要的知识——所应用的技术介绍**。另外，我还需要在源代码的基础上，继续开发新的功能，这个时候，如果没有相关人员的帮助可能是无从入手的，就需要一个**“典型功能的实现教程”**，甚至需要更详细的，**系统开发流程日志**，这样后续维护人员只要参考教程，进行几次编程实践，就可以基本掌握维护、迭代软件的办法。甚至于，我需要对项目进行大改，那么整个**软件的总体代码逻辑，顶层设计，系统整体的输入输出描述等**也可以帮助后续维护项目的人员节省大量理解代码的时间。

对于一个甲方乙方分离，且是开发组（不是一个人，而是N个人）进行开发的项目，我目前的想法，写文档的目的在于：

- **对于项目负责人而言，**我需要理解项目的总体情况、总体进度、顶层设计、分工状况等，以便进行统筹安排，人员更替、调度等。我只能懂得项目的整体情况，不能了解所有细节。文档的价值就在于，让我便于了解总体状况（需求是哪些？哪个已经做了？哪个还没做？X模块进行的怎样了，目前的技术瓶颈在哪？还需要多久完成？更进一步，我是否掌握了**这个项目的生产资料，技术需求，如果人跑了，我怎么维护这个项目？**）。
- 对于**开发人员**而言，文档的价值在于，便于分工合作。对于前端人员，需要**UI图和需求描述**（仅限复杂需求，简单需求可以口头沟通），可以更好的工作，其次是需要一个API文档。对于后端人员，主要是根据项目需求去实现接口，应负责去写这个**API文档**。另外，可以借鉴Grafana的理念，**将系统数据公开，**以便各个成员更好地理解项目。
- 最重要的一个——**对复杂需求的明确说明**。理解需求是最重要的事情，项目负责人脑子里的东西和开发成员脑子里的东西往往不是一致的，让开发成员理解到底是做什么，要做成怎么样是极其重要的，不能依靠想象去开发。甚至，对于有复杂背景（例如银行、物理学等）的项目，项目成员根本就无法理解到底在做什么。这样子，对于较复杂的前端模块，**UI设计图**和**明确的需求描述**就十分必要了。当然，这个对于简单系统就不必要了，简单系统，实际上，任何文档都压缩到口头、或者直接运行项目时的沟通里面了。

根据上面的描述，按照软件的生命周期，我们主要有“开发时文档”和“维护时文档”，还有一个就是甲乙方分离时的“用户使用手册”。“开发时文档”，本身也是一个利于理解项目的“维护时文档”，“维护时文档”在一定条件下也变成“开发时文档”（例如有新人加入开发组），两者本质是一致的。因为最理想的情况就是开发和维护都是同一个人，甚至，**开发、维护、使用**都是同一个人。

所以，我们到底需要哪些文档，怎么维护这些文档呢？需要具体问题具体分析，根据具体的项目具体的人员去决定。


## 二、传统瀑布模型 VS. 敏捷开发 VS. devOps

在确定个性化的文档需求之前，先大概了解一下当且的一些开发流程、以及它们在什么时期产生什么文档，这些文档有什么价值。

### ①传统瀑布模型

**特点：**每一步都很明确，每一步都以上一步作为依据，例如说，先做总体设计，再做详细设计，再依据这些设计文档去做开发

**缺点：**很呆板，效率很低

### ②敏捷开发

**中心思想如下：**

敏捷软件开发宣言（Manifesto for Agile Software Development）

- **个体和互动** 高于 **流程和工具**
- <u>**工作的软件** 高于 **详尽的文档**</u>
- **客户合作** 高于 **合同谈判**
- **响应变化** 高于 **遵循计划**

也就是说，尽管右项有其价值，
我们更重视左项的价值。

**缺点：**<u>开发敏捷，部署不敏捷，</u>另外，有时候会因为太“敏捷”而难以维护，所谓太敏捷就是指**拍拍脑袋就干活，不写任何文档**

### ③DevOps

一种对敏捷开发的改进，不仅**<u>开发过程敏捷，部署也敏捷</u>**。

**补充资料1：一个生动的视频：**

十分钟理解DevOps - 知乎

https://www.zhihu.com/zvideo/1300753868180361216

**补充资料2：摘抄百度百科：**

DevOps（Development和Operations的组合词）是一组过程、方法与系统的统称，用于促进开发（应用程序/软件工程）、技术运营和质量保障（QA）部门之间的沟通、协作与整合。

它是一种重视“软件开发人员（Dev）”和“IT运维技术人员（Ops）”之间沟通合作的文化、运动或惯例。透过自动化“软件交付”和“架构变更”的流程，来使得构建、测试、发布软件能够更加地快捷、频繁和可靠。

## 三、个性化的文档方案

不管是敏捷开发还是DevOps都有太”敏捷“的风险，为了项目的维护和迭代，必须根据项目的实际情况，制定个性化的文档方案。

文档主要是服务于项目进度的管控（这个用工作中的代码就可以实现，不需要真的文档）、项目的后续维护、开发成员的合作。

依据上文分析和**”十分钟理解DevOps“**中对开发流程的描述，总结出以下文档：

①根据用户的反馈，产生一个<u>计划文档</u>**（口头沟通解决）**

②把计划变成<u>需求</u>（复杂的需求，需要有需求说明书，UI设计图等），根据需求列一些<u>代办清单backlog</u>。**（采用Trello卡片可以完成）**

便于开发成员的合作：

①前端页面的说明书——约等于用户使用手册了。其实这个也可以用一个可以工作的软件取代。

②后端API文档

除此之外，还需要补充并维护包含以下内容的文档，目的是便于后续的维护：

①**从源代码编译并安装软件的说明书**——主要服务于后续迭代维护，例如，新成员学习项目、成员更替等。需要描述系统运行的环境、相关软件版本、编译运行的步骤等。

②**软件所采用技术的介绍**——同上，服务于后续迭代维护。描述编写项目代码所涉及的核心技术，读懂源代码必要的基础知识。

③**典型功能的实现步骤**——同上，服务于后续迭代维护。例如，后端可以选取某一个接口的详细实现过程，写一个教程，比如，描述从数据库设计到DAO层编码、DAO层单元测试、Service层编码、Web层编码的详细步骤，供新成员学习。同理，前端可以选择某个前端模块的详细编码过程，写一个教程。

**④软件的顶层设计、代码逻辑、模块整体的输入输出描述等**——帮助后续维护项目的人员节省大量理解代码的时间。从效率和实际意义来说，1~3是必要的，通过阅读代码就可以知道4了。

最后，项目进度的管控，根据敏捷开发的思想，**工作的软件 高于 详尽的文档**。只需要不断将用户需求与可运行的软件中的功能进行比较就可以了。不需要多于的文档。但是上述几个用于维护软件的文档是必要的，且必须建立代码仓库，代码必须严格的注释，为什么这么写而不是这么写，引入每个扩展包的作用等。至于用不用DevOps的工具，其实手动也是可以的。